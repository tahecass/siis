<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="EfsMapper">
	<resultMap id="resMapEfs" type="EfsAlias">
		<result property="secuencia" column="SEC" />
		<result property="contrato" column="CONTRATO" />
		<result property="contenidoBinarioArchivo" column="ARCHIVO" /> 
		<result property="fechaCreacion" column="FECHA_CREACION" />
		<result property="fechaActualizacion" column="FECHA_ACTUALIZACION" />

	</resultMap>


	<select id="guardarEfs" parameterType="EfsAlias" resultMap="resMapEfs"
		statementType="CALLABLE">
		INSERT
		INTO EFS (SEC, CONTRATO, ARCHIVO)
		VALUES
		( #{sec,jdbcType=NUMERIC},
		#{contrato,jdbcType=NUMERIC},
		#{contenidoBinarioArchivo,jdbcType=BLOB}
		)

	</select>
	<update id="actualizarEfs" parameterType="EfsAlias">
		UPDATE EFS
		SET CONTRATO = #{contrato,jdbcType=NUMERIC},
		ARCHIVO = #{contenidoBinarioArchivo,jdbcType=BLOB}
		WHERE SEC = #{sec,jdbcType=NUMERIC};
	</update>
	<select id="listarEfs" parameterType="EfsAlias"
		resultMap="resMapEfs">
		SELECT
		EFS.SEC,
		EFS.CONTRATO, 
		EFS.ARCHIVO
		FROM EFS
	</select>
 

	<delete id="eliminarEfs" parameterType="EfsAlias">
		DELETE FROM EFS WHERE SEC=#{sec,jdbcType=NUMERIC}
	</delete>
</mapper>
